<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudan Play - ูุชุฌุฑ ุงูุชุทุจููุงุช ุงูุณูุฏุงูู</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ุงูุฃููุงุท ุงูุญุงููุฉ ุชุจูู ููุง ูู */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: rgb(74, 107, 255);
            --secondary: rgb(255, 94, 125);
            --accent: rgb(46, 196, 182);
            --dark: rgb(30, 30, 45);
            --light: rgb(248, 249, 254);
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            --gradient-light: linear-gradient(135deg, rgba(74, 107, 255, 0.1) 0%, rgba(255, 94, 125, 0.1) 100%);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        body {
            background-color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* ุจุงูู ุงูุฃููุงุท ุชุจูู ููุง ูู */
        /* ... */

    </style>
</head>
<body onload="loadApps()">
    <header>
        <nav>
            <div class="logo">
                <h1>Sudan Play</h1>
            </div>
            <div class="nav-links">
                <a href="#apps"><i class="fas fa-th"></i> ุงูุชุทุจููุงุช</a>
                <a href="#about"><i class="fas fa-info-circle"></i> ุนู ุงููุชุฌุฑ</a>
                <a href="#contact"><i class="fas fa-envelope"></i> ุชูุงุตู ูุนูุง</a>
                <button class="submit-app-btn" onclick="openSubmitAppModal()">
                    <i class="fas fa-plus"></i> ูุดุฑ ุชุทุจูู
                </button>
            </div>
        </nav>
    </header>

    <!-- ุงููุญุชูู ุงูุญุงูู ูุจูู ููุง ูู -->
    <section class="hero">
        <h2>ูุชุฌุฑ ุงูุชุทุจููุงุช ุงูุณูุฏุงูู</h2>
        <p>ุงูุชุดู ูุญูู ุฃูุถู ุงูุชุทุจููุงุช ูุงูุฃูุนุงุจ ุงููุญููุฉ ูุงูุนุงูููุฉ ุงููุตููุฉ ุฎุตูุตูุง ูู.</p>
        <a href="#apps"><button>ุงุจุฏุฃ ุงูุชุตูุญ <i class="fas fa-arrow-down"></i></button></a>
    </section>

    <!-- ุจุงูู ุงููุญุชูู -->
    <!-- ... -->

    <!-- ูุงูุฐุฉ ูุดุฑ ุงูุชุทุจูู -->
    <div id="submitAppModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeSubmitAppModal()">&times;</span>
            <h2 style="color: var(--primary); margin-bottom: 20px;">ูุดุฑ ุชุทุจูู ุฌุฏูุฏ</h2>
            
            <div class="bank-info">
                <h4><i class="fas fa-university"></i> ูุนูููุงุช ุงูุญุณุงุจ ุงูุจููู</h4>
                <p><strong>ุงุณู ุงูุจูู:</strong> ุจูู ุงูุณูุฏุงู ุงููุฑูุฒู</p>
                <p><strong>ุฑูู ุงูุญุณุงุจ:</strong> 1234567890</p>
                <p><strong>ุงุณู ุงููุณุชููุฏ:</strong> Monty GO SDN-Co.LTD</p>
                <p><strong>ูุจูุบ ุงูุชุญููู:</strong> 50 ุฌููู ุณูุฏุงูู</p>
            </div>
            
            <form class="submit-form" id="submitAppForm">
                <div class="form-group">
                    <label for="appType">ููุน ุงูุชุทุจูู</label>
                    <select id="appType" class="form-control" required>
                        <option value="">ุงุฎุชุฑ ููุน ุงูุชุทุจูู</option>
                        <option value="ุฃูุนุงุจ">ุฃูุนุงุจ</option>
                        <option value="ุฃุฏูุงุช">ุฃุฏูุงุช</option>
                        <option value="ุชูุงุตู">ุชูุงุตู</option>
                        <option value="ุชุนููู">ุชุนููู</option>
                        <option value="ุชุฑููู">ุชุฑููู</option>
                        <option value="ูุงู ูุฃุนูุงู">ูุงู ูุฃุนูุงู</option>
                        <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="appName">ุงุณู ุงูุชุทุจูู</label>
                    <input type="text" id="appName" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="appImages">ุฑูุงุจุท ุตูุฑ ุงูุชุทุจูู (ุงูุตู ุจูููุง ุจูุงุตูุฉ)</label>
                    <textarea id="appImages" class="form-control form-textarea" placeholder="https://example.com/image1.jpg, https://example.com/image2.jpg"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="appLink">ุฑุงุจุท ุงูุชุทุจูู (APK ุฃู ุฑุงุจุท ุงููุชุฌุฑ)</label>
                    <input type="url" id="appLink" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="transactionId">ุฑูู ุนูููุฉ ุงูุชุญููู ุงูุจููู</label>
                    <input type="text" id="transactionId" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="devName">ุงุณู ุงููุทูุฑ/ุงููุณุชุฎุฏู</label>
                    <input type="text" id="devName" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="companyName">ุงุณู ุงูุดุฑูุฉ (ุงุฎุชูุงุฑู)</label>
                    <input type="text" id="companyName" class="form-control">
                </div>
                
                <div class="form-group">
                    <label for="devEmail">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="devEmail" class="form-control" required>
                </div>
                
                <button type="submit" class="submit-btn" id="submitAppBtn">ุฅุฑุณุงู ุงูุทูุจ ูููุฑุงุฌุนุฉ <i class="fas fa-paper-plane"></i></button>
            </form>
        </div>
    </div>

    <!-- ุจุงูู ุงูููุงูุฐ ุงูููุจุซูุฉ -->
    <!-- ... -->

    <div id="toast-message"></div>

    <footer>
        &copy; 2025 Sudan Play. ุฌููุน ุงูุญููู ูุญููุธุฉ. - ูุงุชุณุงุจ: 249127432167 - Monty Go SDN-Co.LTD
    </footer>

    <!-- ๐ ุฅุถุงูุฉ Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script> 
    
    <script>
        // ๐ **ููุงุชูุญ Firebase - ููุณ ุงูููุงุชูุญ ุงููุณุชุฎุฏูุฉ ูู login.html**
        const firebaseConfig = {
            apiKey: "AIzaSyBJE_Ee-Dyh83iny45eH8lVtTSrIVqTzOI",
            authDomain: "sudan-play.firebaseapp.com",
            projectId: "sudan-play",
            storageBucket: "sudan-play.firebasestorage.app",
            messagingSenderId: "981764948623",
            appId: "1:981764948623:web:00e5c9268198f70e39a6fa",
            measurementId: "G-Y6NP2MNQR9"
        };

        // ุชููุฆุฉ Firebase
        let db;
        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
            }
            db = firebase.firestore();
            console.log("โ Firebase initialized successfully in index.html");
        } catch (error) {
            console.error("โ Firebase initialization error:", error);
        }

        // ุฏุงูุฉ ุนุฑุถ ุงูุฑุณุงุฆู
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast-message');
            toast.textContent = message;
            toast.className = "show";
            
            setTimeout(function() {
                toast.className = toast.className.replace("show", "");
            }, duration);
        }

        // ุฏุงูุฉ ูุชุญ ูุงูุฐุฉ ูุดุฑ ุงูุชุทุจูู
        function openSubmitAppModal() {
            document.getElementById('submitAppModal').style.display = 'block';
        }

        // ุฏุงูุฉ ุฅุบูุงู ูุงูุฐุฉ ูุดุฑ ุงูุชุทุจูู
        function closeSubmitAppModal() {
            document.getElementById('submitAppModal').style.display = 'none';
        }

        // ุฅุฑุณุงู ูููุฐุฌ ูุดุฑ ุงูุชุทุจูู
        document.getElementById('submitAppForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitAppBtn');
            const originalText = submitBtn.innerHTML;
            submitBtn.classList.add('loading');
            
            try {
                // ุฌูุน ุจูุงูุงุช ุงููููุฐุฌ
                const formData = {
                    appType: document.getElementById('appType').value,
                    appName: document.getElementById('appName').value,
                    appImages: document.getElementById('appImages').value.split(',').map(img => img.trim()).filter(img => img.length > 0),
                    appLink: document.getElementById('appLink').value,
                    transactionId: document.getElementById('transactionId').value,
                    devName: document.getElementById('devName').value,
                    companyName: document.getElementById('companyName').value || '',
                    devEmail: document.getElementById('devEmail').value,
                    reviewStatus: 'Pending',
                    submissionDate: firebase.firestore.FieldValue.serverTimestamp()
                };

                console.log("๐ค Sending data to Firebase:", formData);

                // ุงูุชุญูู ูู ุงุชุตุงู Firebase
                if (!db) {
                    throw new Error("Firebase not initialized");
                }

                // ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู ูุฌููุนุฉ 'submissions'
                const docRef = await db.collection('submissions').add(formData);
                console.log("โ Submission successful with ID:", docRef.id);
                
                // ุฅุนุงุฏุฉ ุชุนููู ุงููููุฐุฌ ูุฅุธูุงุฑ ุฑุณุงูุฉ ุงููุฌุงุญ
                submitBtn.classList.remove('loading');
                submitBtn.innerHTML = originalText;
                
                showToast('โ ุชู ุฅุฑุณุงู ุทูุจ ูุดุฑ ุงูุชุทุจูู ุจูุฌุงุญ ูุณูุชู ูุฑุงุฌุนุชู ุฎูุงู 30 ุณุงุนุฉ');
                closeSubmitAppModal();
                document.getElementById('submitAppForm').reset();
                
            } catch (error) {
                console.error("โ Error submitting app:", error);
                submitBtn.classList.remove('loading');
                submitBtn.innerHTML = originalText;
                
                let errorMessage = 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูุทูุจุ ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู';
                
                if (error.code) {
                    switch (error.code) {
                        case 'permission-denied':
                            errorMessage = 'ุฎุทุฃ ูู ุงูุฃุฐููุงุช: ูุฑุฌู ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช';
                            break;
                        case 'unavailable':
                            errorMessage = 'ุชุนุฐุฑ ุงูุงุชุตุงู ุจุงูุฎุงุฏูุ ูุฑุฌู ุงูุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช';
                            break;
                        default:
                            errorMessage = `ุฎุทุฃ: ${error.message}`;
                    }
                }
                
                showToast('โ ' + errorMessage);
            }
        });

        // ุจุงูู ุงูุฏูุงู ุงูุญุงููุฉ (loadApps, filterApps, etc.)
        // ... 

        // ุฅุบูุงู ุงูููุงูุฐ ุงูููุจุซูุฉ ุนูุฏ ุงูููุฑ ุฎุงุฑุฌูุง
        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let modal of modals) {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            }
        }

        // ุงุฎุชุจุงุฑ ุงุชุตุงู Firebase ุนูุฏ ุงูุชุญููู
        document.addEventListener('DOMContentLoaded', function() {
            console.log("๐ Main page loaded with Firebase");
            
            if (db) {
                console.log("โ Firebase is connected and ready");
            } else {
                console.error("โ Firebase is not connected");
                showToast("โ๏ธ ุชุญุฐูุฑ: ููุงู ูุดููุฉ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู", 5000);
            }
        });
    </script>
</body>
</html>
